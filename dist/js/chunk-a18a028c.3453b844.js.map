{"version":3,"sources":["webpack:///./src/components/Reservations/ReservationList.vue","webpack:///src/components/Reservations/ReservationList.vue","webpack:///./src/components/Reservations/ReservationList.vue?da61","webpack:///./src/components/Reservations/ReservationList.vue?6313","webpack:///./src/components/Reservations/ReservationList.vue?5fa9","webpack:///./src/http-common.js","webpack:///./src/services/ReservationDataService.js"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","searchQuery","expression","attrs","domProps","on","$event","target","composing","searchReservations","_v","_m","_l","reservations","reservation","index","key","reservationid","_s","groupcode","activitydate","person","firstname","lastname","email","balanceowing","params","id","staticRenderFns","data","searchGroupCode","methods","retrieveReservations","ReservationDataService","getAll","then","response","console","log","catch","e","searchGroupCodeMethod","findByGroupCode","trim","search","mounted","component","axios","create","baseURL","process","headers","http","get","query","groupCode","findByPersonId","personId","findByDate","date"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACG,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOR,EAAIS,YAAaC,WAAW,gBAAgBN,YAAY,eAAeO,MAAM,CAAC,KAAO,OAAO,YAAc,4CAA4CC,SAAS,CAAC,MAASZ,EAAIS,aAAcI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAiBhB,EAAIS,YAAYK,EAAOC,OAAOP,WAAUN,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BO,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQb,EAAIiB,qBAAqB,CAACjB,EAAIkB,GAAG,oBAAoBhB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACF,EAAIkB,GAAG,sBAAsBhB,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACJ,EAAImB,GAAG,GAAGjB,EAAG,QAAQF,EAAIoB,GAAIpB,EAAIqB,cAAc,SAASC,EAAYC,GAAO,OAAOrB,EAAG,KAAK,CAACsB,IAAIF,EAAYG,eAAe,CAACvB,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAGlB,EAAI0B,GAAGH,EAAQ,MAAMrB,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAI0B,GAAGJ,EAAYK,cAAczB,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAI0B,GAAGJ,EAAYM,iBAAiB1B,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAI0B,GAAGJ,EAAYO,OAAOC,cAAc5B,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAI0B,GAAGJ,EAAYO,OAAOE,aAAa7B,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAI0B,GAAGJ,EAAYO,OAAOG,UAAU9B,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAI0B,GAAGJ,EAAYW,iBAAiB/B,EAAG,KAAK,CAACA,EAAG,cAAc,CAACS,MAAM,CAAC,GAAK,CAAEL,KAAM,cAAe4B,OAAQ,CAAEC,GAAIb,EAAYG,kBAAmB,CAACzB,EAAIkB,GAAG,WAAW,QAAO,UAEj7CkB,EAAkB,CAAC,WAAY,IAAIpC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAG,OAAOhB,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAG,gBAAgBhB,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAG,mBAAmBhB,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAG,gBAAgBhB,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAG,eAAehB,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAG,WAAWhB,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAG,mBAAmBhB,EAAG,KAAK,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACX,EAAIkB,GAAG,mB,YCkDngB,GACAZ,KAAA,mBACA+B,OACA,OACAhB,aAAA,GACAiB,gBAAA,GACA7B,YAAA,KAGA8B,QAAA,CACAC,uBACAC,OAAAC,SACAC,KAAAC,IACA,KAAAvB,aAAAuB,EAAAP,KACAQ,QAAAC,IAAAF,EAAAP,QAEAU,MAAAC,IACAH,QAAAC,IAAAE,MAIAC,wBACAR,OAAAS,gBAAA,KAAAZ,iBACAK,KAAAC,IACA,KAAAvB,aAAAuB,EAAAP,KACAQ,QAAAC,IAAAF,EAAAP,QAEAU,MAAAC,IACAH,QAAAC,IAAAE,MAIA/B,qBACA,KAAAR,YAAA0C,OAKAV,OAAAW,OAAA,KAAA3C,aACAkC,KAAAC,IACA,KAAAvB,aAAAuB,EAAAP,OAEAU,MAAAC,IACAH,QAAAC,IAAAE,KARA,KAAAR,yBAaAa,UACA,KAAAb,yBCrGuW,I,wBCQnWc,EAAY,eACd,EACAvD,EACAqC,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E,6CCnBf,W,yDCAA,gBAEeC,cAAMC,OAAO,CAC1BC,QAASC,8CACTC,QAAS,CACP,eAAgB,uB,kCCLpB,gBAEA,MAAMlB,EACJC,SACE,OAAOkB,OAAKC,IAAI,iBAIlBT,OAAOU,GACL,OAAOF,OAAKC,IAAK,0BAAyBC,GAG5CD,IAAI1B,GACF,OAAOyB,OAAKC,IAAK,oBAAmB1B,GAGtCe,gBAAgBa,GACd,OAAOH,OAAKC,IAAK,2BAA0BE,GAG7CC,eAAeC,GACb,OAAOL,OAAKC,IAAK,0BAAyBI,GAG5CC,WAAWC,GACT,OAAOP,OAAKC,IAAK,4BAA2BM,IAIjC,WAAI1B","file":"js/chunk-a18a028c.3453b844.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list row\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchQuery),expression:\"searchQuery\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search by name, email, ID, or group code\"},domProps:{\"value\":(_vm.searchQuery)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchQuery=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.searchReservations}},[_vm._v(\" Search \")])])])]),_c('div',{staticClass:\"col-md-12\"},[_c('h4',[_vm._v(\"Reservation List\")]),_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.reservations),function(reservation,index){return _c('tr',{key:reservation.reservationid},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(index + 1))]),_c('td',[_vm._v(_vm._s(reservation.groupcode))]),_c('td',[_vm._v(_vm._s(reservation.activitydate))]),_c('td',[_vm._v(_vm._s(reservation.person.firstname))]),_c('td',[_vm._v(_vm._s(reservation.person.lastname))]),_c('td',[_vm._v(_vm._s(reservation.person.email))]),_c('td',[_vm._v(_vm._s(reservation.balanceowing))]),_c('td',[_c('router-link',{attrs:{\"to\":{ name: 'reservation', params: { id: reservation.reservationid }}}},[_vm._v(\"Edit\")])],1)])}),0)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Group Code\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Activity Date\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"First Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Last Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Email\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Balance Owing\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Actions\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"list row\">\n      <div class=\"col-md-8\">\n        <div class=\"input-group mb-3\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"Search by name, email, ID, or group code\"\n            v-model=\"searchQuery\"/>\n          <div class=\"input-group-append\">\n            <button class=\"btn btn-outline-secondary\" type=\"button\"\n              @click=\"searchReservations\"\n            >\n              Search\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-12\">\n        <h4>Reservation List</h4>\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Group Code</th>\n              <th scope=\"col\">Activity Date</th>\n              <th scope=\"col\">First Name</th>\n              <th scope=\"col\">Last Name</th>\n              <th scope=\"col\">Email</th>\n              <th scope=\"col\">Balance Owing</th>\n              <th scope=\"col\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(reservation, index) in reservations\" :key=\"reservation.reservationid\">\n              <th scope=\"row\">{{ index + 1 }}</th>\n              <td>{{ reservation.groupcode }}</td>\n              <td>{{ reservation.activitydate }}</td>\n              <td>{{ reservation.person.firstname }}</td>\n              <td>{{ reservation.person.lastname }}</td>\n              <td>{{ reservation.person.email }}</td>\n              <td>{{ reservation.balanceowing }}</td>\n              <td>\n                <router-link :to=\"{ name: 'reservation', params: { id: reservation.reservationid }}\">Edit</router-link>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import ReservationDataService from \"../../services/ReservationDataService.js\";\n  \n  export default {\n    name: \"reservation-list\",\n    data() {\n      return {\n        reservations: [],\n        searchGroupCode: \"\",\n        searchQuery: \"\"\n      };\n    },\n    methods: {\n      retrieveReservations() {\n        ReservationDataService.getAll()\n          .then(response => {\n            this.reservations = response.data;\n            console.log(response.data);\n          })\n          .catch(e => {\n            console.log(e);\n          });\n      },\n  \n      searchGroupCodeMethod() {\n        ReservationDataService.findByGroupCode(this.searchGroupCode)\n          .then(response => {\n            this.reservations = response.data;\n            console.log(response.data);\n          })\n          .catch(e => {\n            console.log(e);\n          });\n      },\n\n      searchReservations() {\n        if (!this.searchQuery.trim()) {\n          // If the search query is empty or only whitespace, retrieve all reservations\n          this.retrieveReservations();\n        } else {\n          // Perform the search\n          ReservationDataService.search(this.searchQuery)\n            .then(response => {\n              this.reservations = response.data;\n            })\n            .catch(e => {\n              console.log(e);\n            });\n        }\n      },\n    },\n    mounted() {\n      this.retrieveReservations();\n    }\n  };\n  </script>\n  \n  <style>\n  .list {\n    text-align: left;\n    max-width: 950px;\n    margin: auto;\n  }\n  </style>\n  ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReservationList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReservationList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ReservationList.vue?vue&type=template&id=6d07ef15\"\nimport script from \"./ReservationList.vue?vue&type=script&lang=js\"\nexport * from \"./ReservationList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ReservationList.vue?vue&type=style&index=0&id=6d07ef15&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReservationList.vue?vue&type=style&index=0&id=6d07ef15&prod&lang=css\"","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: process.env.VUE_APP_SERVERIP+\":\"+process.env.VUE_APP_SERVERPORT+\"/api\",\n  headers: {\n    \"Content-type\": \"application/json\"\n  }\n});\n","import http from \"../http-common\";\n\nclass ReservationDataService {\n  getAll() {\n    return http.get(\"/reservations\"); // Adjust the endpoint as needed\n  }\n\n  //Search based on user query in the searchbox\n  search(query) {\n    return http.get(`/reservations/search?q=${query}`);\n  }\n\n  get(id) {\n    return http.get(`/reservations/id/${id}`); // Adjust the endpoint as needed\n  }\n\n  findByGroupCode(groupCode) {\n    return http.get(`/reservations?groupCode=${groupCode}`); // Adjust the endpoint as needed\n  }\n\n  findByPersonId(personId) {\n    return http.get(`/reservations?personId=${personId}`); // Adjust the endpoint as needed\n  }\n\n  findByDate(date) {\n    return http.get(`/reservations/unassigned/${date}`);\n}\n}\n\nexport default new ReservationDataService();\n"],"sourceRoot":""}