{"version":3,"sources":["webpack:///./src/services/ClientsDataService.js","webpack:///./src/http-common.js","webpack:///./src/services/ReservationDataService.js","webpack:///./src/components/Reservations/Reservation.vue?8efa","webpack:///./src/components/Reservations/Reservation.vue","webpack:///src/components/Reservations/Reservation.vue","webpack:///./src/components/Reservations/Reservation.vue?0cfa","webpack:///./src/components/Reservations/Reservation.vue?b0e2"],"names":["ClientsDataService","getAll","params","http","get","id","create","data","post","update","put","delete","findByName","name","fetchClientId","personId","axios","baseURL","headers","ReservationDataService","search","query","findByGroupCode","groupCode","findByPersonId","findByDate","date","render","_vm","this","_c","_self","staticClass","_v","on","$event","goBack","reservation","_s","groupcode","activitydate","balanceowing","person","firstname","lastname","email","mobilephone","attrs","clientId","_e","_l","details","detail","key","reservationdetailid","activity","vanpickup","firstskitripofyear","newguest","arrivingtorevelstoke","ad2","staticRenderFns","props","reservationDetails","methods","$router","go","fetchReservationData","then","response","catch","e","console","error","personid","clientid","created","component"],"mappings":"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","file":"js/chunk-5ae8c7d3.2c2fd8a2.js","sourcesContent":["\nimport http from \"../http-common\";\n\nclass ClientsDataService {\n  getAll(params = {}) {\n    return http.get(\"/clients\", { params });\n  }\n  \n  get(id) {\n    return http.get(`/clients/id/${id}`);\n  }\n\n  create(data) {\n    return http.post(\"/clients\", data);\n  }\n\n  update(id, data) {\n    return http.put(`/clients/id/${id}`, data);\n  }\n\n  delete(id) {\n    return http.delete(`/clients/id/${id}`);\n  }\n\n  findByName(name) {\n    return http.get(`/clients/name?name=${name}`);\n  }\n\n  fetchClientId(personId) {\n    return http.get(`/clients/byperson/${personId}`);\n  }\n}\n\nexport default new ClientsDataService();\n","import axios from \"axios\";\n// import CryptoJS from \"crypto-js\";\n\n// // Encrypt the server secret\n// const encryptedSecret = CryptoJS.AES.encrypt(process.env.VUE_APP_SERVER_SECRET, process.env.VUE_APP_SERVER_ENCRYPTION_KEY).toString();\n\nexport default axios.create({\n  baseURL: `${process.env.VUE_APP_SERVERIP}:${process.env.VUE_APP_SERVERPORT}/api`,\n  headers: {\n    \"Content-type\": \"application/json\",\n    // \"cust-server-secret\": `${encryptedSecret}`\n  }\n});\n","import http from \"../http-common\";\n\nclass ReservationDataService {\n  getAll() {\n    return http.get(\"/reservations\"); // Adjust the endpoint as needed\n  }\n\n  //Search based on user query in the searchbox\n  search(query) {\n    return http.get(`/reservations/search?q=${query}`);\n  }\n\n  get(id) {\n    return http.get(`/reservations/id/${id}`); // Adjust the endpoint as needed\n  }\n\n  findByGroupCode(groupCode) {\n    return http.get(`/reservations?groupCode=${groupCode}`); // Adjust the endpoint as needed\n  }\n\n  findByPersonId(personId) {\n    return http.get(`/reservations?personId=${personId}`); // Adjust the endpoint as needed\n  }\n\n  findByDate(date) {\n    return http.get(`/reservations/unassigned/${date}`);\n}\n}\n\nexport default new ReservationDataService();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reservation.vue?vue&type=style&index=0&id=b2cac4a8&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"reservation\"},[_c('h2',{staticClass:\"page-title\"},[_vm._v(\"Reservation Details\")]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"back-button\",on:{\"click\":function($event){return _vm.goBack()}}},[_vm._v(\"Back\")])]),(_vm.reservation)?_c('section',[_c('section',{staticClass:\"profile-section\"},[_c('h3',[_vm._v(\"Reservation Information\")]),_c('div',{staticClass:\"profile-details\"},[_c('p',[_c('strong',[_vm._v(\"Group Code:\")]),_vm._v(\" \"+_vm._s(_vm.reservation.groupcode))]),_c('p',[_c('strong',[_vm._v(\"Activity Date:\")]),_vm._v(\" \"+_vm._s(_vm.reservation.activitydate))]),_c('p',[_c('strong',[_vm._v(\"Balance Owing:\")]),_vm._v(\" \"+_vm._s(_vm.reservation.balanceowing))])])]),_c('section',{staticClass:\"profile-section\"},[_c('h3',[_vm._v(\"Guest Information\")]),(_vm.reservation.person)?_c('div',{staticClass:\"profile-details\"},[_c('p',[_c('strong',[_vm._v(\"First Name:\")]),_vm._v(\" \"+_vm._s(_vm.reservation.person.firstname))]),_c('p',[_c('strong',[_vm._v(\"Last Name:\")]),_vm._v(\" \"+_vm._s(_vm.reservation.person.lastname))]),_c('p',[_c('strong',[_vm._v(\"Email:\")]),_vm._v(\" \"+_vm._s(_vm.reservation.person.email))]),_c('p',[_c('strong',[_vm._v(\"Mobile Phone:\")]),_vm._v(\" \"+_vm._s(_vm.reservation.person.mobilephone))]),_c('router-link',{staticClass:\"btn btn-primary\",attrs:{\"to\":`/clients/${_vm.clientId}`}},[_vm._v(\"View Guest\")])],1):_vm._e()]),_c('section',{staticClass:\"profile-section\"},[_c('h3',[_vm._v(\"Reservation Details\")]),_vm._l((_vm.reservation.details),function(detail){return _c('div',{key:detail.reservationdetailid,staticClass:\"details\"},[_c('p',[_c('strong',[_vm._v(\"Activity:\")]),_vm._v(\" \"+_vm._s(detail.activity))]),_c('p',[_c('strong',[_vm._v(\"Van Pickup:\")]),_vm._v(\" \"+_vm._s(detail.vanpickup ? 'Yes' : 'No'))]),_c('p',[_c('strong',[_vm._v(\"First Ski Trip of Year:\")]),_vm._v(\" \"+_vm._s(detail.firstskitripofyear ? 'Yes' : 'No'))]),_c('p',[_c('strong',[_vm._v(\"New Guest:\")]),_vm._v(\" \"+_vm._s(detail.newguest ? 'Yes' : 'No'))]),_c('p',[_c('strong',[_vm._v(\"Arriving to Revelstoke:\")]),_vm._v(\" \"+_vm._s(detail.arrivingtorevelstoke))]),_c('p',[_c('strong',[_vm._v(\"Additional Details:\")]),_vm._v(\" \"+_vm._s(detail.ad2))])])})],2)]):_c('div',[_c('p',[_vm._v(\"Loading reservation details...\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"reservation\">\n      <h2 class=\"page-title\">Reservation Details</h2>\n  \n      <div class=\"button-container\">\n        <button class=\"back-button\" @click=\"goBack()\">Back</button>\n      </div>\n  \n      <section v-if=\"reservation\">\n        <section class=\"profile-section\">\n          <h3>Reservation Information</h3>\n          <div class=\"profile-details\">\n            <p><strong>Group Code:</strong> {{ reservation.groupcode }}</p>\n            <p><strong>Activity Date:</strong> {{ reservation.activitydate }}</p>\n            <p><strong>Balance Owing:</strong> {{ reservation.balanceowing }}</p>\n            <!-- Add other reservation details here -->\n          </div>\n        </section>\n  \n        <section class=\"profile-section\">\n          <h3>Guest Information</h3>\n          <div class=\"profile-details\" v-if=\"reservation.person\">\n            <p><strong>First Name:</strong> {{ reservation.person.firstname }}</p>\n            <p><strong>Last Name:</strong> {{ reservation.person.lastname }}</p>\n            <p><strong>Email:</strong> {{ reservation.person.email }}</p>\n            <p><strong>Mobile Phone:</strong> {{ reservation.person.mobilephone }}</p>\n            <router-link :to=\"`/clients/${clientId}`\" class=\"btn btn-primary\">View Guest</router-link>\n            <!-- Add other guest details here -->\n          </div>\n        </section>\n  \n        <section class=\"profile-section\">\n          <h3>Reservation Details</h3>\n          <div v-for=\"detail in reservation.details\" :key=\"detail.reservationdetailid\" class=\"details\">\n            <p><strong>Activity:</strong> {{ detail.activity }}</p>\n            <p><strong>Van Pickup:</strong> {{ detail.vanpickup ? 'Yes' : 'No' }}</p>\n            <p><strong>First Ski Trip of Year:</strong> {{ detail.firstskitripofyear ? 'Yes' : 'No' }}</p>\n            <p><strong>New Guest:</strong> {{ detail.newguest ? 'Yes' : 'No' }}</p>\n            <p><strong>Arriving to Revelstoke:</strong> {{ detail.arrivingtorevelstoke }}</p>\n            <p><strong>Additional Details:</strong> {{ detail.ad2 }}</p>\n            <!-- Add other reservation detail fields here -->\n          </div>\n        </section>\n      </section>\n      \n      <div v-else>\n        <p>Loading reservation details...</p>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import ReservationDataService from \"@/services/ReservationDataService\";\n  import ClientsDataService from \"@/services/ClientsDataService\";\n  \n  export default {\n    name: 'Reservation',\n    props: ['id'],\n    data() {\n      return {\n        reservation: null,\n        reservationDetails: [],\n        clientId: null\n        // Add other data properties as needed\n      };\n    },\n    methods: {\n      goBack() {\n        this.$router.go(-1);\n      },\n      fetchReservationData() {\n        // Fetch reservation data by id\n        ReservationDataService.get(this.id)\n          .then(response => {\n            this.reservation = response.data;\n            this.reservationDetails = response.data.details; // Assuming the details are included in the response\n            this.fetchClientId(); // Call fetchClientId when reservation data is loaded\n          })\n          .catch(e => {\n            console.error(e);\n          });\n      },\n      fetchClientId() {\n        if (this.reservation && this.reservation.person) {\n            const personId = this.reservation.person.personid;\n            ClientsDataService.fetchClientId(personId)\n            .then(response => {\n                this.clientId = response.data.clientid; // Assuming the response contains the client ID\n            })\n            .catch(e => {\n                console.error(e);\n            });\n        }\n      },\n      // Add other methods as needed\n    },\n    created() {\n      this.fetchReservationData();\n    }\n  };\n  </script>\n  <style scoped>\n  .reservation {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 20px;\n    background-color: #fff;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n  \n  .page-title {\n    font-size: 24px;\n    margin-bottom: 20px;\n  }\n  \n  .profile-section {\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    padding: 20px;\n    margin-bottom: 20px;\n  }\n  \n  h3 {\n    font-size: 18px;\n  }\n  \n  .profile-details, .details {\n    margin-top: 10px;\n  }\n  \n  .details {\n    background-color: #f0f0f0;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n    padding: 10px;\n    margin-top: 10px;\n  }\n  \n  .button-container {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n  }\n  \n  .edit-button, .back-button {\n    background-color: #ccc;\n    color: #fff;\n    border: none;\n    border-radius: 5px;\n    padding: 10px 20px;\n    font-size: 16px;\n    cursor: pointer;\n  }\n  \n  .edit-button:hover, .back-button:hover {\n    background-color: #999;\n  }\n  \n  .back-button {\n    background-color: #007bff;\n  }\n  \n  .back-button:hover {\n    background-color: #0056b3;\n  }\n  </style>\n  \n  ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reservation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reservation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Reservation.vue?vue&type=template&id=b2cac4a8&scoped=true\"\nimport script from \"./Reservation.vue?vue&type=script&lang=js\"\nexport * from \"./Reservation.vue?vue&type=script&lang=js\"\nimport style0 from \"./Reservation.vue?vue&type=style&index=0&id=b2cac4a8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2cac4a8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}