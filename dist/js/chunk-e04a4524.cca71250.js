(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e04a4524"],{"14d9":function(t,e,a){"use strict";var s=a("23e7"),r=a("7b0b"),o=a("07fa"),i=a("3a34"),n=a("3511"),l=a("d039"),f=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=f||!c();s({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=r(this),a=o(e),s=arguments.length;n(a+s);for(var l=0;l<s;l++)e[a]=arguments[l],a++;return i(e,a),a}})},"298b":function(t,e,a){"use strict";var s=a("c427");class r{getAll(){return s["a"].get("/staff")}get(t){return s["a"].get("/staff/id/"+t)}create(t){return s["a"].post("/staff",t)}update(t,e){return s["a"].put("/staff/id/"+t,e)}delete(t){return s["a"].delete("/staff/id/"+t)}findByName(t){return s["a"].get("/staff?name="+t)}findByEmail(t){return s["a"].get("/staff/email/"+t)}fetchJobs(){return s["a"].get("/staff/jobs")}}e["a"]=new r},3511:function(t,e,a){"use strict";var s=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw s("Maximum allowed index exceeded");return t}},"3a34":function(t,e,a){"use strict";var s=a("83ab"),r=a("e8b5"),o=TypeError,i=Object.getOwnPropertyDescriptor,n=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=n?function(t,e){if(r(t)&&!i(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},"3ea0":function(t,e,a){"use strict";a("e8bc")},"963d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list row"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search by name"},domProps:{value:t.searchName},on:{input:function(e){e.target.composing||(t.searchName=e.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.searchNameMethod}},[t._v(" Search ")])]),e("button",{staticClass:"btn btn-primary",attrs:{"data-bs-toggle":"modal","data-bs-target":"#createStaffModal"}},[t._v(" Create Staff ")])])]),e("div",{staticClass:"col-md-12"},[e("h4",[t._v("Staff List")]),e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.staffs,(function(a,s){return e("tr",{key:a.staffid},[e("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),e("td",[t._v(t._s(a.person.firstname))]),e("td",[t._v(t._s(a.person.lastname))]),e("td",[t._v(t._s(a.person.email))]),e("td",[t._v(t._s(a.job?a.job.jobtitle:"N/A"))]),e("td",[e("router-link",{attrs:{to:{name:"staff",params:{id:a.staffid}}}},[t._v("Edit")])],1)])})),0)])]),e("div",{ref:"createStaffModal",staticClass:"modal fade",attrs:{id:"createStaffModal",tabindex:"-1","aria-labelledby":"createStaffModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.saveNewStaff.apply(null,arguments)}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"staffFirstName"}},[t._v("First Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newStaff.firstName,expression:"newStaff.firstName"}],staticClass:"form-control",attrs:{type:"text",id:"staffFirstName",required:""},domProps:{value:t.newStaff.firstName},on:{input:function(e){e.target.composing||t.$set(t.newStaff,"firstName",e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"staffLastName"}},[t._v("Last Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newStaff.lastName,expression:"newStaff.lastName"}],staticClass:"form-control",attrs:{type:"text",id:"staffLastName",required:""},domProps:{value:t.newStaff.lastName},on:{input:function(e){e.target.composing||t.$set(t.newStaff,"lastName",e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"staffEmail"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newStaff.email,expression:"newStaff.email"}],staticClass:"form-control",attrs:{type:"email",id:"staffEmail",required:""},domProps:{value:t.newStaff.email},on:{input:function(e){e.target.composing||t.$set(t.newStaff,"email",e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"staffJobTitle"}},[t._v("Job Title")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.newStaff.jobTitle,expression:"newStaff.jobTitle"}],staticClass:"form-select",attrs:{id:"staffJobTitle",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newStaff,"jobTitle",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select job title")]),t._l(t.jobs,(function(a){return e("option",{key:a.jobid,domProps:{value:a.jobtitle}},[t._v(t._s(a.jobtitle))])}))],2)]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save")])])])])])])])},r=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("First Name")]),e("th",{attrs:{scope:"col"}},[t._v("Last Name")]),e("th",{attrs:{scope:"col"}},[t._v("Email")]),e("th",{attrs:{scope:"col"}},[t._v("Job Title")]),e("th",{attrs:{scope:"col"}},[t._v("Actions")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"createStaffModalLabel"}},[t._v("Create New Staff Member")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],o=(a("14d9"),a("298b")),i={name:"staff-list",data(){return{newStaff:{firstName:"",lastName:"",email:"",jobTitle:""},staffs:[],jobs:[],searchName:""}},methods:{retrieveStaff(){o["a"].getAll().then(t=>{this.staffs=t.data,console.log(t.data)}).catch(t=>{console.log(t)})},saveNewStaff(){const t={jobid:this.jobs.find(t=>t.jobtitle===this.newStaff.jobTitle).jobid,person:{firstname:this.newStaff.firstName,lastname:this.newStaff.lastName,email:this.newStaff.email}};o["a"].create(t).then(t=>{console.log(t.data),this.staffs.push(t.data.staff),this.closeModalAndReset(),this.retrieveStaff()}).catch(t=>{console.error("Error creating staff:",t)})},closeModalAndReset(){const t=this.$refs.createStaffModal;t.style.display="none",document.body.classList.remove("modal-open");const e=document.querySelector(".modal-backdrop");e&&e.parentNode.removeChild(e),this.newStaff={firstName:"",lastName:"",email:"",jobTitle:""}},fetchJobs(){o["a"].fetchJobs().then(t=>{this.jobs=t.data}).catch(t=>{console.log(t)})},searchNameMethod(){o["a"].findByName(this.searchName).then(t=>{this.staffs=t.data,console.log(t.data)}).catch(t=>{console.log(t)})}},mounted(){this.retrieveStaff(),this.fetchJobs()}},n=i,l=(a("3ea0"),a("2877")),f=Object(l["a"])(n,s,r,!1,null,null,null);e["default"]=f.exports},c427:function(t,e,a){"use strict";var s=a("cee4");e["a"]=s["a"].create({baseURL:"https://eebackend.azurewebsites.net:/api",headers:{"Content-type":"application/json"}})},e8b5:function(t,e,a){"use strict";var s=a("c6b6");t.exports=Array.isArray||function(t){return"Array"===s(t)}},e8bc:function(t,e,a){}}]);
//# sourceMappingURL=chunk-e04a4524.cca71250.js.map