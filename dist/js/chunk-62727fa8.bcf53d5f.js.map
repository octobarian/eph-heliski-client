{"version":3,"sources":["webpack:///./src/components/Passengers/Passengers.vue","webpack:///src/components/Passengers/Passengers.vue","webpack:///./src/components/Passengers/Passengers.vue?2c9c","webpack:///./src/components/Passengers/Passengers.vue?8be4","webpack:///./src/services/ClientsDataService.js","webpack:///./src/components/Passengers/Passengers.vue?1648","webpack:///./src/http-common.js"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","searchName","expression","attrs","domProps","on","$event","target","composing","searchNameMethod","_v","_m","_l","clients","client","index","key","id","_s","currentPage","pageSize","person","firstname","lastname","email","params","clientid","class","disabled","changePage","totalPages","page","active","staticRenderFns","data","totalItems","computed","Math","ceil","methods","retrieveClients","ClientsDataService","getAll","then","response","catch","e","console","log","findByName","mounted","component","http","get","create","post","update","put","delete","fetchClientId","personId","axios","baseURL","process","headers"],"mappings":"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","file":"js/chunk-62727fa8.bcf53d5f.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list row\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchName),expression:\"searchName\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search by name\"},domProps:{\"value\":(_vm.searchName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchName=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.searchNameMethod}},[_vm._v(\" Search \")])])])]),_c('div',{staticClass:\"col-md-12\"},[_c('h4',[_vm._v(\"Clients List\")]),_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.clients),function(client,index){return _c('tr',{key:client.id},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s((_vm.currentPage - 1) * _vm.pageSize + index + 1))]),_c('td',[_vm._v(_vm._s(client.person ? client.person.firstname : 'N/A'))]),_c('td',[_vm._v(_vm._s(client.person ? client.person.lastname : 'N/A'))]),_c('td',[_vm._v(_vm._s(client.person ? client.person.email : 'N/A'))]),_c('td',[_c('router-link',{attrs:{\"to\":{ name: 'client', params: { id: client.clientid }}}},[_vm._v(\"Edit\")])],1)])}),0)]),_c('nav',{attrs:{\"aria-label\":\"Page navigation\"}},[_c('ul',{staticClass:\"pagination\"},[_c('li',{staticClass:\"page-item\",class:{disabled: _vm.currentPage === 1}},[_c('button',{staticClass:\"page-link\",attrs:{\"aria-label\":\"Previous\"},on:{\"click\":function($event){return _vm.changePage(_vm.currentPage - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")])])]),_vm._l((_vm.totalPages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{active: _vm.currentPage === page}},[_c('button',{staticClass:\"page-link\",on:{\"click\":function($event){return _vm.changePage(page)}}},[_vm._v(_vm._s(page))])])}),_c('li',{staticClass:\"page-item\",class:{disabled: _vm.currentPage === _vm.totalPages}},[_c('button',{staticClass:\"page-link\",attrs:{\"aria-label\":\"Next\"},on:{\"click\":function($event){return _vm.changePage(_vm.currentPage + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")])])])],2)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"First Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Last Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Email\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Actions\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"list row\">\n    <div class=\"col-md-8\">\n      <div class=\"input-group mb-3\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search by name\" v-model=\"searchName\" />\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"searchNameMethod\">\n            Search\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-12\">\n      <h4>Clients List</h4>\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">First Name</th>\n            <th scope=\"col\">Last Name</th>\n            <th scope=\"col\">Email</th>\n            <th scope=\"col\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(client, index) in clients\" :key=\"client.id\">\n            <th scope=\"row\">{{ (currentPage - 1) * pageSize + index + 1 }}</th>\n            <td>{{ client.person ? client.person.firstname : 'N/A' }}</td>\n            <td>{{ client.person ? client.person.lastname : 'N/A' }}</td>\n            <td>{{ client.person ? client.person.email : 'N/A' }}</td>\n            <td>\n              <router-link :to=\"{ name: 'client', params: { id: client.clientid }}\">Edit</router-link>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <nav aria-label=\"Page navigation\">\n        <ul class=\"pagination\">\n          <li class=\"page-item\" :class=\"{disabled: currentPage === 1}\">\n            <button class=\"page-link\" @click=\"changePage(currentPage - 1)\" aria-label=\"Previous\">\n              <span aria-hidden=\"true\">&laquo;</span>\n            </button>\n          </li>\n          <li class=\"page-item\" v-for=\"page in totalPages\" :key=\"page\" :class=\"{active: currentPage === page}\">\n            <button class=\"page-link\" @click=\"changePage(page)\">{{ page }}</button>\n          </li>\n          <li class=\"page-item\" :class=\"{disabled: currentPage === totalPages}\">\n            <button class=\"page-link\" @click=\"changePage(currentPage + 1)\" aria-label=\"Next\">\n              <span aria-hidden=\"true\">&raquo;</span>\n            </button>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  </div>\n</template>\n\n  \n<script>\nimport ClientsDataService from \"../../services/ClientsDataService.js\";\n\nexport default {\n  name: \"passengers-list\",\n  data() {\n    return {\n      clients: [],\n      searchName: \"\",\n      currentPage: 1,\n      pageSize: 50,\n      totalItems: 0,\n    };\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.totalItems / this.pageSize);\n    },\n  },\n  methods: {\n    retrieveClients(page = 1) {\n      ClientsDataService.getAll({ page: page, pageSize: this.pageSize })\n        .then(response => {\n          this.clients = response.data.clients;\n          this.totalItems = response.data.totalItems; // Update totalItems here\n          this.currentPage = page; // Ensure you update currentPage based on the response if needed\n          // No need to manually update totalPages; it's computed automatically\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    searchNameMethod() {\n      ClientsDataService.findByName(this.searchName)\n        .then(response => {\n          // Assuming the response structure is the same as from getAll\n          this.clients = response.data.clients || []; // Fallback to an empty array if undefined\n          this.totalItems = response.data.totalItems || 0;\n          this.currentPage = 1; // Reset to the first page for new search results\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    changePage(page) {\n      this.retrieveClients(page); // Fetch the new page of clients\n    },\n  },\n  mounted() {\n    this.retrieveClients();\n  }\n};\n</script>\n\n  \n  <style>\n  .list {\n    text-align: left;\n    max-width: 950px;\n    margin: auto;\n  }\n  </style>\n  ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Passengers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Passengers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Passengers.vue?vue&type=template&id=aa8f30d2\"\nimport script from \"./Passengers.vue?vue&type=script&lang=js\"\nexport * from \"./Passengers.vue?vue&type=script&lang=js\"\nimport style0 from \"./Passengers.vue?vue&type=style&index=0&id=aa8f30d2&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport http from \"../http-common\";\n\nclass ClientsDataService {\n  getAll(params = {}) {\n    return http.get(\"/clients\", { params });\n  }\n  \n  get(id) {\n    return http.get(`/clients/id/${id}`);\n  }\n\n  create(data) {\n    return http.post(\"/clients\", data);\n  }\n\n  update(id, data) {\n    return http.put(`/clients/id/${id}`, data);\n  }\n\n  delete(id) {\n    return http.delete(`/clients/id/${id}`);\n  }\n\n  findByName(name) {\n    return http.get(`/clients/name?name=${name}`);\n  }\n\n  fetchClientId(personId) {\n    return http.get(`/clients/byperson/${personId}`);\n  }\n}\n\nexport default new ClientsDataService();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Passengers.vue?vue&type=style&index=0&id=aa8f30d2&prod&lang=css\"","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: process.env.VUE_APP_SERVERIP+\":\"+process.env.VUE_APP_SERVERPORT+\"/api\",\n  headers: {\n    \"Content-type\": \"application/json\"\n  }\n});\n"],"sourceRoot":""}