{"version":3,"sources":["webpack:///./src/services/ClientsDataService.js","webpack:///./src/http-common.js","webpack:///./src/components/Passengers/Client.vue","webpack:///./src/services/HealthDataService.js","webpack:///src/components/Passengers/Client.vue","webpack:///./src/components/Passengers/Client.vue?9fb5","webpack:///./src/components/Passengers/Client.vue?5832","webpack:///./src/components/Passengers/Client.vue?162f"],"names":["ClientsDataService","getAll","params","http","get","id","create","data","post","update","put","delete","findByName","name","fetchClientId","personId","axios","baseURL","headers","render","_vm","this","_c","_self","staticClass","_v","on","$event","editing","goBack","_e","startEditing","person","_s","firstname","lastname","_l","healthRecords","healthRecord","key","description","severity","filteredCustomFields","length","customField","field_name","field_value","_m","preventDefault","updateClient","apply","arguments","attrs","directives","rawName","value","editableClient","expression","domProps","target","composing","$set","editableHealthRecords","record","index","severityid","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","severities","staticRenderFns","HealthDataService","fetchSeverities","props","client","trainingDetails","methods","JSON","parse","stringify","personhealth","$router","go","then","response","catch","e","console","log","fetchClientData","customFields","error","updateData","clientid","created","computed","field","isArray","component"],"mappings":"gHACA,gBAEA,MAAMA,EACJC,OAAOC,EAAS,IACd,OAAOC,OAAKC,IAAI,WAAY,CAAEF,WAGhCE,IAAIC,GACF,OAAOF,OAAKC,IAAK,eAAcC,GAGjCC,OAAOC,GACL,OAAOJ,OAAKK,KAAK,WAAYD,GAG/BE,OAAOJ,EAAIE,GACT,OAAOJ,OAAKO,IAAK,eAAcL,EAAME,GAGvCI,OAAON,GACL,OAAOF,OAAKQ,OAAQ,eAAcN,GAGpCO,WAAWC,GACT,OAAOV,OAAKC,IAAK,sBAAqBS,GAGxCC,cAAcC,GACZ,OAAOZ,OAAKC,IAAK,qBAAoBW,IAI1B,WAAIf,G,2DCjCnB,gBAMegB,cAAMV,OAAO,CAC1BW,QAAU,2CACVC,QAAS,CACP,eAAgB,uB,yCCTpB,IAAIC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIK,GAAG,oBAAoBH,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,SAAS,CAACE,YAAY,cAAcE,GAAG,CAAC,MAAQ,SAASC,GAAQP,EAAIQ,QAAQR,EAAIQ,SAASR,EAAIQ,QAAQR,EAAIS,YAAY,CAACT,EAAIK,GAAG,UAAYL,EAAIQ,QAAiGR,EAAIU,KAA5FR,EAAG,SAAS,CAACE,YAAY,cAAcE,GAAG,CAAC,MAAQN,EAAIW,eAAe,CAACX,EAAIK,GAAG,YAAuBL,EAAIQ,QAAu7CR,EAAIU,KAAl7CR,EAAG,UAAU,CAACA,EAAG,UAAU,CAACE,YAAY,mBAAmB,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,oBAAqBL,EAAIY,OAAQV,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,IAAI,CAACA,EAAG,SAAS,CAACF,EAAIK,GAAG,iBAAiBL,EAAIK,GAAG,IAAIL,EAAIa,GAAGb,EAAIY,OAAOE,cAAcZ,EAAG,IAAI,CAACA,EAAG,SAAS,CAACF,EAAIK,GAAG,gBAAgBL,EAAIK,GAAG,IAAIL,EAAIa,GAAGb,EAAIY,OAAOG,eAAeb,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACF,EAAIK,GAAG,mCAAmCH,EAAG,UAAU,CAACE,YAAY,mBAAmB,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,oBAAqBL,EAAIY,OAAQV,EAAG,MAAMF,EAAIgB,GAAIhB,EAAIiB,eAAe,SAASC,GAAc,OAAOhB,EAAG,MAAM,CAACiB,IAAID,EAAajC,GAAGmB,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACA,EAAG,SAAS,CAACF,EAAIK,GAAG,uBAAuBL,EAAIK,GAAG,IAAIL,EAAIa,GAAGK,EAAajC,OAAOiB,EAAG,IAAI,CAACA,EAAG,SAAS,CAACF,EAAIK,GAAG,kBAAkBL,EAAIK,GAAG,IAAIL,EAAIa,GAAGK,EAAaE,gBAAgBlB,EAAG,IAAI,CAACA,EAAG,SAAS,CAACF,EAAIK,GAAG,eAAeL,EAAIK,GAAG,IAAIL,EAAIa,GAAGK,EAAaG,SAASD,qBAAoB,GAAGlB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACF,EAAIK,GAAG,mCAAmCH,EAAG,UAAU,CAACE,YAAY,mBAAmB,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,mBAAoBL,EAAIY,QAAUZ,EAAIsB,qBAAqBC,OAAS,EAAGrB,EAAG,MAAMF,EAAIgB,GAAIhB,EAAIsB,sBAAsB,SAASE,GAAa,OAAOtB,EAAG,MAAM,CAACiB,IAAIK,EAAYC,WAAWrB,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACA,EAAG,SAAS,CAACF,EAAIK,GAAGL,EAAIa,GAAGW,EAAYC,YAAY,OAAOzB,EAAIK,GAAG,IAAIL,EAAIa,GAAGW,EAAYE,qBAAoB,GAAGxB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACF,EAAIK,GAAG,qCAAqCL,EAAI2B,GAAG,GAAG3B,EAAI2B,GAAG,KAAe3B,EAAIQ,QAASN,EAAG,UAAU,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,yBAAyBH,EAAG,OAAO,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOqB,iBAAwB5B,EAAI6B,aAAaC,MAAM,KAAMC,cAAc,CAAC7B,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,QAAQ,CAAC8B,MAAM,CAAC,IAAM,cAAc,CAAChC,EAAIK,GAAG,gBAAgBH,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACxC,KAAK,QAAQyC,QAAQ,UAAUC,MAAOnC,EAAIoC,eAAetB,UAAWuB,WAAW,6BAA6BjC,YAAY,eAAe4B,MAAM,CAAC,KAAO,OAAO,GAAK,YAAY,YAAchC,EAAIY,OAAOE,WAAWwB,SAAS,CAAC,MAAStC,EAAIoC,eAAetB,WAAYR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOgC,OAAOC,WAAiBxC,EAAIyC,KAAKzC,EAAIoC,eAAgB,YAAa7B,EAAOgC,OAAOJ,aAAajC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAAC8B,MAAM,CAAC,IAAM,aAAa,CAAChC,EAAIK,GAAG,eAAeH,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACxC,KAAK,QAAQyC,QAAQ,UAAUC,MAAOnC,EAAIoC,eAAerB,SAAUsB,WAAW,4BAA4BjC,YAAY,eAAe4B,MAAM,CAAC,KAAO,OAAO,GAAK,WAAW,YAAchC,EAAIY,OAAOG,UAAUuB,SAAS,CAAC,MAAStC,EAAIoC,eAAerB,UAAWT,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOgC,OAAOC,WAAiBxC,EAAIyC,KAAKzC,EAAIoC,eAAgB,WAAY7B,EAAOgC,OAAOJ,aAAcnC,EAAI0C,sBAAsBnB,OAAQrB,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,mBAAmBL,EAAIgB,GAAIhB,EAAI0C,uBAAuB,SAASC,EAAOC,GAAO,OAAO1C,EAAG,MAAM,CAACiB,IAAIyB,GAAO,CAAC1C,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAAC8B,MAAM,CAAC,IAAM,gBAAgB,CAAChC,EAAIK,GAAG,iBAAiBH,EAAG,QAAQ,CAAC+B,WAAW,CAAC,CAACxC,KAAK,QAAQyC,QAAQ,UAAUC,MAAOQ,EAAOvB,YAAaiB,WAAW,uBAAuBjC,YAAY,eAAe4B,MAAM,CAAC,KAAO,OAAO,GAAK,eAAeM,SAAS,CAAC,MAASK,EAAOvB,aAAcd,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOgC,OAAOC,WAAiBxC,EAAIyC,KAAKE,EAAQ,cAAepC,EAAOgC,OAAOJ,aAAajC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAAC8B,MAAM,CAAC,IAAM,aAAa,CAAChC,EAAIK,GAAG,cAAcH,EAAG,SAAS,CAAC+B,WAAW,CAAC,CAACxC,KAAK,QAAQyC,QAAQ,UAAUC,MAAOQ,EAAOE,WAAYR,WAAW,sBAAsBjC,YAAY,eAAe4B,MAAM,CAAC,GAAK,YAAY1B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIuC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAK3C,EAAOgC,OAAOY,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEjB,MAAM,OAAOoB,KAAOvD,EAAIyC,KAAKE,EAAQ,aAAcpC,EAAOgC,OAAOkB,SAAWX,EAAgBA,EAAc,OAAO9C,EAAIgB,GAAIhB,EAAI0D,YAAY,SAASrC,GAAU,OAAOnB,EAAG,SAAS,CAACiB,IAAIE,EAASpC,GAAGqD,SAAS,CAAC,MAAQjB,EAASpC,KAAK,CAACe,EAAIK,GAAG,IAAIL,EAAIa,GAAGQ,EAASD,aAAa,UAAS,WAAU,GAAGpB,EAAIU,KAAKR,EAAG,SAAS,CAACE,YAAY,kBAAkB4B,MAAM,CAAC,KAAO,WAAW,CAAChC,EAAIK,GAAG,gBAAgBL,EAAIU,QAEviJiD,EAAkB,CAAC,WAAY,IAAI3D,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,qBACnG,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,0B,wBCAhF,MAAMuD,EAEFC,kBACI,OAAO9E,OAAKC,IAAI,wBAIT,UAAI4E,EC8FnB,GACAnE,KAAA,SACAqE,MAAA,OACA3E,OACA,OACAqB,SAAA,EACAuD,OAAA,KACAnD,OAAA,KACAK,cAAA,GACA+C,gBAAA,GACA5B,eAAA,KACAM,sBAAA,GACAgB,WAAA,KAGAO,QAAA,CACAtD,eACA,KAAAH,SAAA,EACA,KAAA4B,eAAA8B,KAAAC,MAAAD,KAAAE,UAAA,KAAAL,SACA,KAAArB,sBAAAwB,KAAAC,MAAAD,KAAAE,UAAA,KAAAL,OAAAnD,OAAAyD,eACA,KAAAR,mBAEApD,SACA,KAAA6D,QAAAC,IAAA,IAEAV,kBACAD,EAAAC,kBACAW,KAAAC,IACA,KAAAf,WAAAe,EAAAtF,OAEAuF,MAAAC,IACAC,QAAAC,IAAAF,MAGAG,kBAEAlG,OAAAI,IAAA,KAAAC,IACAuF,KAAAC,IACAG,QAAAC,IAAAJ,GACA,KAAAV,OAAAU,EAAAtF,KACA,KAAAyB,OAAA6D,EAAAtF,KAAAyB,OACA,KAAAmE,aAAAN,EAAAtF,KAAAyB,OAAAmE,aAEA,KAAA9D,cAAAwD,EAAAtF,KAAAyB,OAAAyD,eAEAK,MAAAC,IACAC,QAAAI,MAAAL,MAGA9C,eAEA,MAAAoD,EAAA,CACAlB,OAAA,KAAA3B,eACAnB,cAAA,KAAAyB,uBAGA9D,OAAAS,OAAA,KAAA+C,eAAA8C,SAAAD,GACAT,KAAAC,IAEA,KAAAV,OAAAU,EAAAtF,KAAA4E,OACA,KAAAnD,OAAA6D,EAAAtF,KAAAyB,OACA,KAAAK,cAAAwD,EAAAtF,KAAAyB,OAAAyD,aACA,KAAA7D,SAAA,IAEAkE,MAAAC,IACAC,QAAAC,IAAAF,OAIAQ,UAEA,KAAAL,mBAEAM,SAAA,CACA9D,uBACA,YAAAyD,aAAA9B,OAAAoC,IAEA,MAAAlD,EAAAkD,EAAA3D,YACA,OAAAS,GAAA,OAAAA,KAAAY,MAAAuC,QAAAnD,MAAAZ,OAAA,QCtL8V,I,wBCQ1VgE,EAAY,eACd,EACAxF,EACA4D,GACA,EACA,KACA,WACA,MAIa,aAAA4B,E,2CCnBf","file":"js/chunk-4ed8b7a4.fc4152a8.js","sourcesContent":["\nimport http from \"../http-common\";\n\nclass ClientsDataService {\n  getAll(params = {}) {\n    return http.get(\"/clients\", { params });\n  }\n  \n  get(id) {\n    return http.get(`/clients/id/${id}`);\n  }\n\n  create(data) {\n    return http.post(\"/clients\", data);\n  }\n\n  update(id, data) {\n    return http.put(`/clients/id/${id}`, data);\n  }\n\n  delete(id) {\n    return http.delete(`/clients/id/${id}`);\n  }\n\n  findByName(name) {\n    return http.get(`/clients/name?name=${name}`);\n  }\n\n  fetchClientId(personId) {\n    return http.get(`/clients/byperson/${personId}`);\n  }\n}\n\nexport default new ClientsDataService();\n","import axios from \"axios\";\n// import CryptoJS from \"crypto-js\";\n\n// // Encrypt the server secret\n// const encryptedSecret = CryptoJS.AES.encrypt(process.env.VUE_APP_SERVER_SECRET, process.env.VUE_APP_SERVER_ENCRYPTION_KEY).toString();\n\nexport default axios.create({\n  baseURL: `${process.env.VUE_APP_SERVERIP}:${process.env.VUE_APP_SERVERPORT}/api`,\n  headers: {\n    \"Content-type\": \"application/json\",\n    // \"cust-server-secret\": `${encryptedSecret}`\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"client\"},[_c('h2',{staticClass:\"page-title\"},[_vm._v(\"Client Profile\")]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"back-button\",on:{\"click\":function($event){_vm.editing?_vm.editing=!_vm.editing:_vm.goBack()}}},[_vm._v(\"Back\")]),(!_vm.editing)?_c('button',{staticClass:\"edit-button\",on:{\"click\":_vm.startEditing}},[_vm._v(\"Edit\")]):_vm._e()]),(!_vm.editing)?_c('section',[_c('section',{staticClass:\"profile-section\"},[_c('h3',[_vm._v(\"Person Details\")]),(_vm.person)?_c('div',{staticClass:\"profile-details\"},[_c('p',[_c('strong',[_vm._v(\"First Name:\")]),_vm._v(\" \"+_vm._s(_vm.person.firstname))]),_c('p',[_c('strong',[_vm._v(\"Last Name:\")]),_vm._v(\" \"+_vm._s(_vm.person.lastname))])]):_c('div',{staticClass:\"loading\"},[_c('p',[_vm._v(\"Loading person details...\")])])]),_c('section',{staticClass:\"profile-section\"},[_c('h3',[_vm._v(\"Health Records\")]),(_vm.person)?_c('div',_vm._l((_vm.healthRecords),function(healthRecord){return _c('div',{key:healthRecord.id,staticClass:\"health-record\"},[_c('p',[_c('strong',[_vm._v(\"Health Record ID:\")]),_vm._v(\" \"+_vm._s(healthRecord.id))]),_c('p',[_c('strong',[_vm._v(\"Description:\")]),_vm._v(\" \"+_vm._s(healthRecord.description))]),_c('p',[_c('strong',[_vm._v(\"Severity:\")]),_vm._v(\" \"+_vm._s(healthRecord.severity.description))])])}),0):_c('div',[_c('p',[_vm._v(\"Loading person details...\")])])]),_c('section',{staticClass:\"profile-section\"},[_c('h3',[_vm._v(\"Custom Fields\")]),(_vm.person && _vm.filteredCustomFields.length > 0)?_c('div',_vm._l((_vm.filteredCustomFields),function(customField){return _c('div',{key:customField.field_name,staticClass:\"custom-field\"},[_c('p',[_c('strong',[_vm._v(_vm._s(customField.field_name)+\":\")]),_vm._v(\" \"+_vm._s(customField.field_value))])])}),0):_c('div',[_c('p',[_vm._v(\"No custom fields available.\")])])]),_vm._m(0),_vm._m(1)]):_vm._e(),(_vm.editing)?_c('section',{staticClass:\"edit-section\"},[_c('h3',[_vm._v(\"Edit Client Details\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateClient.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group profile-details\"},[_c('label',{attrs:{\"for\":\"firstName\"}},[_vm._v(\"First Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editableClient.firstname),expression:\"editableClient.firstname\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"firstName\",\"placeholder\":_vm.person.firstname},domProps:{\"value\":(_vm.editableClient.firstname)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editableClient, \"firstname\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"lastName\"}},[_vm._v(\"Last Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editableClient.lastname),expression:\"editableClient.lastname\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"lastName\",\"placeholder\":_vm.person.lastname},domProps:{\"value\":(_vm.editableClient.lastname)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.editableClient, \"lastname\", $event.target.value)}}})]),(_vm.editableHealthRecords.length)?_c('div',[_c('h4',[_vm._v(\"Health Record\")]),_vm._l((_vm.editableHealthRecords),function(record,index){return _c('div',{key:index},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"description\"}},[_vm._v(\"Description\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(record.description),expression:\"record.description\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"description\"},domProps:{\"value\":(record.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(record, \"description\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"severity\"}},[_vm._v(\"Severity\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(record.severityid),expression:\"record.severityid\"}],staticClass:\"form-control\",attrs:{\"id\":\"severity\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(record, \"severityid\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.severities),function(severity){return _c('option',{key:severity.id,domProps:{\"value\":severity.id}},[_vm._v(\" \"+_vm._s(severity.description)+\" \")])}),0)])])})],2):_vm._e(),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Submit\")])])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('section',[_c('h3',[_vm._v(\"Trip History\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('section',[_c('h3',[_vm._v(\"Training Details\")])])\n}]\n\nexport { render, staticRenderFns }","// eslint-disable-next-line no-unused-vars\nimport http from \"../http-common\";\n\nclass HealthDataService {\n    //TODO Create method to fetch the severities table to be used when editing a health record\n    fetchSeverities(){\n        return http.get(\"/clients/severities\");\n    }\n}\n\nexport default new HealthDataService();","<template>\n    <div class=\"client\">\n      <h2 class=\"page-title\">Client Profile</h2>\n\n      <div class=\"button-container\">\n        <button class=\"back-button\" @click=\"editing?editing=!editing:goBack()\">Back</button>\n        <button v-if=\"!editing\" class=\"edit-button\" @click=\"startEditing\">Edit</button>\n      </div>\n      <section v-if=\"!editing\">\n        <section class=\"profile-section\">\n          <h3>Person Details</h3>\n          <div class=\"profile-details\" v-if=\"person\">\n            <p><strong>First Name:</strong> {{ person.firstname }}</p>\n            <p><strong>Last Name:</strong> {{ person.lastname }}</p>\n            <!-- Add other person details here -->\n          </div>\n          <div class=\"loading\" v-else>\n            <p>Loading person details...</p>\n          </div>\n        </section>\n\n        <section class=\"profile-section\">\n        <h3>Health Records</h3>\n        <div v-if=\"person\">\n          <div v-for=\"healthRecord in healthRecords\" :key=\"healthRecord.id\" class=\"health-record\">\n              <p><strong>Health Record ID:</strong> {{ healthRecord.id }}</p>\n              <p><strong>Description:</strong> {{ healthRecord.description }}</p>\n              <p><strong>Severity:</strong> {{ healthRecord.severity.description }}</p>\n              <!-- Add other health record details here -->\n          </div>\n        </div>\n\n        <div v-else>\n          <p>Loading person details...</p>\n        </div>\n      </section>\n\n      <section class=\"profile-section\">\n      <h3>Custom Fields</h3>\n      <div v-if=\"person && filteredCustomFields.length > 0\">\n        <div v-for=\"customField in filteredCustomFields\" :key=\"customField.field_name\" class=\"custom-field\">\n          <p><strong>{{ customField.field_name }}:</strong> {{ customField.field_value }}</p>\n        </div>\n      </div>\n      <div v-else>\n        <p>No custom fields available.</p>\n      </div>\n    </section>\n\n        <section>\n          <h3>Trip History</h3>\n          <!-- Future implementation for trip history -->\n        </section>\n    \n        <section>\n          <h3>Training Details</h3>\n          <!-- Display and edit training details -->\n        </section>\n    </section>\n\n    <!-- EDITING SECTION -->\n    <section v-if=\"editing\" class=\"edit-section\">\n    <h3>Edit Client Details</h3>\n    <form @submit.prevent=\"updateClient\">\n      <div class=\"form-group profile-details\">\n        <label for=\"firstName\">First Name</label>\n        <input type=\"text\" class=\"form-control\" id=\"firstName\" :placeholder=\"person.firstname\" v-model=\"editableClient.firstname\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"lastName\">Last Name</label>\n        <input type=\"text\" class=\"form-control\" id=\"lastName\" :placeholder=\"person.lastname\" v-model=\"editableClient.lastname\">\n      </div>\n      <!-- Add other input fields as needed -->\n\n      <!-- Health Record Details Form Fields -->\n      <div v-if=\"editableHealthRecords.length\">\n        <h4>Health Record</h4>\n        <div v-for=\"(record, index) in editableHealthRecords\" :key=\"index\">\n          <div class=\"form-group\">\n            <label for=\"description\">Description</label>\n            <input type=\"text\" class=\"form-control\" id=\"description\" v-model=\"record.description\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"severity\">Severity</label>\n            <select class=\"form-control\" id=\"severity\" v-model=\"record.severityid\">\n              <option v-for=\"severity in severities\" :value=\"severity.id\" :key=\"severity.id\">\n                {{ severity.description }}\n              </option>\n            </select>\n          </div>\n          <!-- Add other health record fields as needed -->\n        </div>\n      </div>\n\n      <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n    </form>\n  </section>\n    </div>\n  </template>\n  \n  <script>\n  import ClientsDataService from \"@/services/ClientsDataService\";\n  import HealthDataService from \"@/services/HealthDataService\";\n  \n  export default {\n    name: 'Client',\n    props: ['id'],\n    data() {\n      return {\n        editing: false,\n        client: null,\n        person: null,\n        healthRecords: [],\n        trainingDetails: [],\n        editableClient: null,\n        editableHealthRecords: [],\n        severities: [],\n      };\n    },\n    methods: {\n          startEditing() {\n          this.editing = true;\n          this.editableClient = JSON.parse(JSON.stringify(this.client));\n          this.editableHealthRecords = JSON.parse(JSON.stringify(this.client.person.personhealth));\n          this.fetchSeverities();\n        },\n        goBack() {\n            this.$router.go(-1);\n        },\n        fetchSeverities() {\n          HealthDataService.fetchSeverities()\n            .then(response => {\n              this.severities = response.data;\n            })\n            .catch(e => {\n              console.log(e);\n            });\n        },\n        fetchClientData() {\n        // Fetch client data by id\n          ClientsDataService.get(this.id)\n            .then(response => {\n            console.log(response);\n            this.client = response.data;\n            this.person = response.data.person;\n            this.customFields = response.data.person.customFields;\n            // Additional fetch calls to get health records and training details\n            this.healthRecords = response.data.person.personhealth;\n            })\n            .catch(e => {\n            console.error(e);\n            });\n        },\n        updateClient() {\n          // Prepare data to be sent, including health records\n          const updateData = {\n            client: this.editableClient,\n            healthRecords: this.editableHealthRecords\n          };\n          // Make API call to update client and health records\n          ClientsDataService.update(this.editableClient.clientid, updateData)\n            .then(response => {\n              // Update data with response\n              this.client = response.data.client;\n              this.person = response.data.person;\n              this.healthRecords = response.data.person.personhealth;\n              this.editing = false;\n            })\n            .catch(e => {\n              console.log(e);\n            });\n        },\n    },\n    created() {\n      //Get the client by the ID\n      this.fetchClientData();\n    },\n    computed: {\n      filteredCustomFields() {\n        return this.customFields.filter(field => {\n          // Check if field_value is not empty, not an empty object, and not an empty array\n          const value = field.field_value;\n          return value && value !== '{}' && (!Array.isArray(value) || value.length > 0);\n        });\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .client {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 20px;\n    background-color: #fff;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n  \n  .page-title {\n    font-size: 24px;\n    margin-bottom: 20px;\n  }\n  \n  .profile-section {\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    padding: 20px;\n    margin-bottom: 20px;\n  }\n  \n  h3 {\n    font-size: 18px;\n  }\n  \n  .profile-details {\n    margin-top: 10px;\n  }\n  \n  .health-record {\n    background-color: #f0f0f0;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n    padding: 10px;\n    margin-top: 10px;\n  }\n  \n  .save-button {\n    background-color: #007bff;\n    color: #fff;\n    border: none;\n    border-radius: 5px;\n    padding: 10px 20px;\n    font-size: 16px;\n    cursor: pointer;\n  }\n  \n  .save-button:hover {\n    background-color: #0056b3;\n  }\n\n  .button-container {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\n.edit-button{\n  background-color: var(--primary-eph-color);\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  padding: 10px 20px;\n  font-size: 16px;\n  cursor: pointer;\n}\n.back-button {\n  background-color: #ccc;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  padding: 10px 20px;\n  font-size: 16px;\n  cursor: pointer;\n}\n\n.edit-button:hover,\n.back-button:hover {\n  background-color: #999;\n}\n\n.back-button {\n  background-color: #007bff;\n}\n\n.back-button:hover {\n  background-color: #0056b3;\n}\n  </style>\n  ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Client.vue?vue&type=template&id=9624d44c&scoped=true\"\nimport script from \"./Client.vue?vue&type=script&lang=js\"\nexport * from \"./Client.vue?vue&type=script&lang=js\"\nimport style0 from \"./Client.vue?vue&type=style&index=0&id=9624d44c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9624d44c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=style&index=0&id=9624d44c&prod&scoped=true&lang=css\""],"sourceRoot":""}