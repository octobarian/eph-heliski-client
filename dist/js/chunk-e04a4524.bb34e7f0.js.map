{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.push.js","webpack:///./src/services/StaffDataService.js","webpack:///./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack:///./node_modules/core-js/internals/array-set-length.js","webpack:///./src/components/Staff/StaffList.vue?2340","webpack:///./src/components/Staff/StaffList.vue","webpack:///src/components/Staff/StaffList.vue","webpack:///./src/components/Staff/StaffList.vue?fb08","webpack:///./src/components/Staff/StaffList.vue?06d3","webpack:///./src/http-common.js","webpack:///./node_modules/core-js/internals/is-array.js"],"names":["$","toObject","lengthOfArrayLike","setArrayLength","doesNotExceedSafeInteger","fails","INCORRECT_TO_LENGTH","push","call","length","properErrorOnNonWritableLength","Object","defineProperty","writable","error","TypeError","FORCED","target","proto","arity","forced","item","O","this","len","argCount","arguments","i","StaffDataService","getAll","http","get","id","create","data","post","update","put","delete","findByName","name","findByEmail","email","fetchJobs","$TypeError","MAX_SAFE_INTEGER","module","exports","it","DESCRIPTORS","isArray","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","undefined","render","_vm","_c","_self","staticClass","directives","rawName","value","searchName","expression","attrs","domProps","on","$event","composing","searchNameMethod","_v","_m","_l","staffs","staff","index","key","staffid","_s","person","firstname","lastname","job","jobtitle","params","ref","preventDefault","saveNewStaff","apply","newStaff","firstName","$set","lastName","jobTitle","$$selectedVal","Array","prototype","filter","options","o","selected","map","val","_value","multiple","jobs","jobid","staticRenderFns","methods","retrieveStaff","then","response","console","log","catch","e","newStaffData","find","closeModalAndReset","modal","$refs","createStaffModal","style","display","document","body","classList","remove","backdrop","querySelector","parentNode","removeChild","mounted","component","axios","baseURL","headers","classof","argument"],"mappings":"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","file":"js/chunk-e04a4524.bb34e7f0.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","import http from \"../http-common\";\n\nclass StaffDataService {\n  getAll() {\n    return http.get(\"/staff\");\n  }\n\n  get(id) {\n    return http.get(`/staff/id/${id}`);\n  }\n\n  create(data) {\n    return http.post(\"/staff\", data);\n  }\n\n  update(id, data) {\n    return http.put(`/staff/id/${id}`, data);\n  }\n\n  delete(id) {\n    return http.delete(`/staff/id/${id}`);\n  }\n\n  findByName(name) {\n    return http.get(`/staff?name=${name}`);\n  }\n\n  //returns a staffid by searching for an email in the staffdb\n  findByEmail(email) {\n    return http.get(`/staff/email/${email}`);\n  }\n  \n  //fetch the list of staff jobs from the job table\n  fetchJobs() {\n    return http.get(\"/staff/jobs\");\n  }\n}\n\nexport default new StaffDataService();\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaffList.vue?vue&type=style&index=0&id=48cec67e&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list row\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchName),expression:\"searchName\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search by name\"},domProps:{\"value\":(_vm.searchName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchName=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.searchNameMethod}},[_vm._v(\" Search \")])]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#createStaffModal\"}},[_vm._v(\" Create Staff \")])])]),_c('div',{staticClass:\"col-md-12\"},[_c('h4',[_vm._v(\"Staff List\")]),_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.staffs),function(staff,index){return _c('tr',{key:staff.staffid},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(index + 1))]),_c('td',[_vm._v(_vm._s(staff.person.firstname))]),_c('td',[_vm._v(_vm._s(staff.person.lastname))]),_c('td',[_vm._v(_vm._s(staff.person.email))]),_c('td',[_vm._v(_vm._s(staff.job ? staff.job.jobtitle : 'N/A'))]),_c('td',[_c('router-link',{attrs:{\"to\":{ name: 'staff', params: { id: staff.staffid }}}},[_vm._v(\"Edit\")])],1)])}),0)])]),_c('div',{ref:\"createStaffModal\",staticClass:\"modal fade\",attrs:{\"id\":\"createStaffModal\",\"tabindex\":\"-1\",\"aria-labelledby\":\"createStaffModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_vm._m(1),_c('div',{staticClass:\"modal-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveNewStaff.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"staffFirstName\"}},[_vm._v(\"First Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStaff.firstName),expression:\"newStaff.firstName\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"staffFirstName\",\"required\":\"\"},domProps:{\"value\":(_vm.newStaff.firstName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newStaff, \"firstName\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"staffLastName\"}},[_vm._v(\"Last Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStaff.lastName),expression:\"newStaff.lastName\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"staffLastName\",\"required\":\"\"},domProps:{\"value\":(_vm.newStaff.lastName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newStaff, \"lastName\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"staffEmail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStaff.email),expression:\"newStaff.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"staffEmail\",\"required\":\"\"},domProps:{\"value\":(_vm.newStaff.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newStaff, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"staffJobTitle\"}},[_vm._v(\"Job Title\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStaff.jobTitle),expression:\"newStaff.jobTitle\"}],staticClass:\"form-select\",attrs:{\"id\":\"staffJobTitle\",\"required\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newStaff, \"jobTitle\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\"}},[_vm._v(\"Select job title\")]),_vm._l((_vm.jobs),function(job){return _c('option',{key:job.jobid,domProps:{\"value\":job.jobtitle}},[_vm._v(_vm._s(job.jobtitle))])})],2)]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Save\")])])])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"First Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Last Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Email\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Job Title\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Actions\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"createStaffModalLabel\"}},[_vm._v(\"Create New Staff Member\")]),_c('button',{staticClass:\"btn-close\",attrs:{\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"list row\">\n      <div class=\"col-md-8\">\n        <div class=\"input-group mb-3\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"Search by name\"\n            v-model=\"searchName\"/>\n          <div class=\"input-group-append\">\n            <button class=\"btn btn-outline-secondary\" type=\"button\"\n              @click=\"searchNameMethod\"\n            >\n              Search\n            </button>\n          </div>\n          <button class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#createStaffModal\">\n            Create Staff\n          </button>\n        </div>\n      </div>\n      <div class=\"col-md-12\">\n        <h4>Staff List</h4>\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">First Name</th>\n              <th scope=\"col\">Last Name</th>\n              <th scope=\"col\">Email</th>\n              <th scope=\"col\">Job Title</th>\n              <th scope=\"col\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(staff, index) in staffs\" :key=\"staff.staffid\">\n              <th scope=\"row\">{{ index + 1 }}</th>\n              <td>{{ staff.person.firstname }}</td>\n              <td>{{ staff.person.lastname }}</td>\n              <td>{{ staff.person.email }}</td>\n              <td>{{ staff.job ? staff.job.jobtitle : 'N/A' }}</td>\n              <td>\n                <router-link :to=\"{ name: 'staff', params: { id: staff.staffid }}\">Edit</router-link>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n         <!-- Modal -->\n      <div ref=\"createStaffModal\" class=\"modal fade\" id=\"createStaffModal\" tabindex=\"-1\" aria-labelledby=\"createStaffModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"createStaffModalLabel\">Create New Staff Member</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"saveNewStaff\">\n              <div class=\"mb-3\">\n                <label for=\"staffFirstName\" class=\"form-label\">First Name</label>\n                <input type=\"text\" class=\"form-control\" id=\"staffFirstName\" v-model=\"newStaff.firstName\" required>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"staffLastName\" class=\"form-label\">Last Name</label>\n                <input type=\"text\" class=\"form-control\" id=\"staffLastName\" v-model=\"newStaff.lastName\" required>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"staffEmail\" class=\"form-label\">Email</label>\n                <input type=\"email\" class=\"form-control\" id=\"staffEmail\" v-model=\"newStaff.email\" required>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"staffJobTitle\" class=\"form-label\">Job Title</label>\n                <select class=\"form-select\" id=\"staffJobTitle\" v-model=\"newStaff.jobTitle\" required>\n                  <option value=\"\" disabled>Select job title</option>\n                  <option v-for=\"job in jobs\" :key=\"job.jobid\" :value=\"job.jobtitle\">{{ job.jobtitle }}</option>\n                </select>\n              </div>\n              <button type=\"submit\" class=\"btn btn-primary\">Save</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  </template>\n  \n  <script>\n  import StaffDataService from \"../../services/StaffDataService.js\";\n  \n  export default {\n    name: \"staff-list\",\n    data() {\n      return {\n        newStaff: {\n          firstName: '',\n          lastName: '',\n          email: '',\n          jobTitle: ''\n        },\n        staffs: [],\n        jobs: [],\n        searchName: \"\"\n      };\n    },\n    methods: {\n      retrieveStaff() {\n        StaffDataService.getAll()\n          .then(response => {\n            this.staffs = response.data;\n            console.log(response.data);\n          })\n          .catch(e => {\n            console.log(e);\n          });\n      },\n\n      saveNewStaff() {\n        const newStaffData = {\n          // Assuming your newStaff data structure matches your backend expectations\n          jobid: this.jobs.find(job => job.jobtitle === this.newStaff.jobTitle).jobid,\n          person: {\n            firstname: this.newStaff.firstName,\n            lastname: this.newStaff.lastName,\n            email: this.newStaff.email,\n            // Add other details as required\n          },\n          // Add other staff details if required\n        };\n\n        StaffDataService.create(newStaffData)\n          .then(response => {\n            console.log(response.data);\n            this.staffs.push(response.data.staff);\n            this.closeModalAndReset();\n            this.retrieveStaff(); // Refetch the staff list\n          })\n          .catch(error => {\n            console.error(\"Error creating staff:\", error);\n          });\n      },\n\n      closeModalAndReset() {\n        // Hide the modal\n        const modal = this.$refs.createStaffModal;\n        modal.style.display = 'none';\n        document.body.classList.remove('modal-open');\n        \n        // Remove the modal's backdrop\n        const backdrop = document.querySelector('.modal-backdrop');\n        if (backdrop) {\n          backdrop.parentNode.removeChild(backdrop);\n        }\n\n        // Reset the form fields\n        this.newStaff = {\n          firstName: '',\n          lastName: '',\n          email: '',\n          jobTitle: ''\n        };\n      },\n\n      fetchJobs() {\n        StaffDataService.fetchJobs()\n          .then(response => {\n            this.jobs = response.data;\n          })\n          .catch(e => {\n            console.log(e);\n          });\n      },\n  \n      searchNameMethod() {\n        StaffDataService.findByName(this.searchName)\n          .then(response => {\n            this.staffs = response.data;\n            console.log(response.data);\n          })\n          .catch(e => {\n            console.log(e);\n          });\n      }\n    },\n    mounted() {\n      this.retrieveStaff();\n      this.fetchJobs();\n    }\n  };\n  </script>\n  \n  <style>\n  .list {\n    text-align: left;\n    max-width: 950px;\n    margin: auto;\n  }\n  </style>\n  ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaffList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaffList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StaffList.vue?vue&type=template&id=48cec67e\"\nimport script from \"./StaffList.vue?vue&type=script&lang=js\"\nexport * from \"./StaffList.vue?vue&type=script&lang=js\"\nimport style0 from \"./StaffList.vue?vue&type=style&index=0&id=48cec67e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\n// import CryptoJS from \"crypto-js\";\n\n// // Encrypt the server secret\n// const encryptedSecret = CryptoJS.AES.encrypt(process.env.VUE_APP_SERVER_SECRET, process.env.VUE_APP_SERVER_ENCRYPTION_KEY).toString();\n\nexport default axios.create({\n  baseURL: `${process.env.VUE_APP_SERVERIP}:${process.env.VUE_APP_SERVERPORT}/api`,\n  headers: {\n    \"Content-type\": \"application/json\",\n    // \"cust-server-secret\": `${encryptedSecret}`\n  }\n});\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n"],"sourceRoot":""}